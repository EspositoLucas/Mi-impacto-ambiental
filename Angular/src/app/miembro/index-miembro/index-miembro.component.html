<app-index-template entity="miembro">
    <table class="table">
        <thead>
            <tr>
                <th>Persona</th>
                <th>Usuario</th>
                <th>Fecha ingreso</th>
                <th>Sector</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let miembro of results$ | async">
                <td>{{ miembro.persona!.text }}</td>
                <td>{{ miembro.usuario?.text }}</td>
                <td>{{ miembro.fechaIngreso }}</td>
                <td>{{ miembro.sector?.text }}</td>
            </tr>
        </tbody>
    </table>

    <button type="button" onclick="prueba" class="btn btn-primary">
        Listar Miembros
    </button>

</app-index-template>

<script lang="ts">
    import { AuthService } from '../auth/auth.service';
    async function prueba(){
        return fetch("http://localhost:8080/miembroLiviano", {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                Authorization: 'Bearer'  + this.authService.loggedUser.accessToken ,
                'X-Custom-Header': 'header value'

            }
        })
    }

</script>
