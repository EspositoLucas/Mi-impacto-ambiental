<app-index-template entity="organizacion">
    <table class="table">
        <thead>
            <tr>
                <th>Razon social</th>
                <th>Tipo</th>
                <th>Clasificacion</th>
                <th>Dias habiles</th>
                <th>Factor K</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let organizacion of results$ | async">
                <td>{{ organizacion.razonSocial }}</td>
                <td>{{ organizacion.tipoOrganizacion!.text }}</td>
                <td>{{ organizacion.clasificacion!.text }}</td>
                <td>{{ organizacion.cantDiasHabilesPorSemana }}</td>
                <td>{{ organizacion.factorK.text }}</td>
                <td>
                    <button
                        type="button"
                        (click)="editEntidad(organizacion.id)"
                        class="btn btn-info"
                    >
                        Editar
                    </button>
                    <button
                        type="button"
                        (click)="onDelete(organizacion)"
                        class="btn btn-danger"
                    >
                        Eliminar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <button type="button" onclick="prueba" class="btn btn-primary">
        Listar Organizaciones
    </button>

</app-index-template>


<script lang="ts">
    import { AuthService } from '../auth/auth.service';
    async function prueba(){
        return fetch("http://localhost:8080/organizacionLiviano", {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                Authorization: 'Bearer'  + this.authService.loggedUser.accessToken ,
                'X-Custom-Header': 'header value'

            }
        })
    }

</script>
